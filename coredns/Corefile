# Basic CoreDNS configuration
. {
    # Use the hosts plugin with the generated hosts file
    hosts /etc/coredns/hosts {
        fallthrough
    }
    
    # Docker plugin for automatic container discovery
    docker {
        endpoint unix:///var/run/docker.sock
        ttl 30
        fallthrough
    }
    
    # Basic logging
    log
    
    # Error handling
    errors
    
    # Cache responses
    cache 30
    
    # Simple health check
    health
    
    # Forward to system DNS if no match found
    forward . /etc/resolv.conf
    forward . /etc/resolv.conf
}
